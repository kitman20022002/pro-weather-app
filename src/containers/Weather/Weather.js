import React from 'react';
import './Weather.css';
import axios from 'axios';

import Cards from "../../components/Card/Cards";
import Header from "../../components/Header/Header";
import BackGround from "../../components/BackGround";
import '../../App.css';
import {connect} from "react-redux";

class Weather extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            isLoaded: false,
            data: [],
            hasLogin: false,
            error: false,
            temp: {
                current: {
                    temp_c: 11,
                },
                location: {
                    name: "Sydney"
                }
            },
        };
    }

    handleSearchPress = (e) => {
        if (e.key === 'Enter') {
            this.setState({isLoaded: false});
            let q = e.target.value.toLowerCase();
            axios.get('https://api.apixu.com/v1/forecast.json?forecast_days=3&key=1eb8b1de06614af3a3423418171609&q=' + q)
                .then((response) => {
                    this.setState({temp: response.data, isLoaded: true, error: false});
                })
                .catch(error => {
                    this.setState({temp: "Error", isLoaded: true, error: true});
                });
        }
    };

    async componentDidMount() {
        //https://svu1ja47fc.execute-api.ap-southeast-2.amazonaws.com/dev/message?city=sydney

        let config = {
            headers: {
                'Access-Control-Allow-Origin': '*',
                "Content-Type": "application/json"
            }
        };

        let result  = await axios.get('https://x71dhcp1x1.execute-api.ap-southeast-2.amazonaws.com/default/pro-weather-app-lambda-dev-hello?city=sydney',config);
        //https://svu1ja47fc.execute-api.ap-southeast-2.amazonaws.com/dev/pro-weather-app-lambda-dev-hello?city=sydney
        //let data = {
            "latitude": -33.8686,
            "longitude": 151.2094,
            "timezone": "Australia/Sydney",
            "currently": {
                "time": 1569328703,
                "summary": "Clear",
                "icon": "clear-night",
                "nearestStormDistance": 0,
                "precipIntensity": 0,
                "precipProbability": 0,
                "temperature": 14.6,
                "WeatherarentTemperature": 14.6,
                "dewPoint": 8.43,
                "humidity": 0.67,
                "pressure": 1027.02,
                "windSpeed": 1.42,
                "windGust": 3.97,
                "windBearing": 312,
                "cloudCover": 0,
                "uvIndex": 0,
                "visibility": 10.942,
                "ozone": 337
            },
            "hourly": {
                "summary": "Partly cloudy throughout the day.",
                "icon": "clear-day",
                "data": [{
                    "time": 1569326400,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 15.11,
                    "WeatherarentTemperature": 15.11,
                    "dewPoint": 8.73,
                    "humidity": 0.66,
                    "pressure": 1026.7,
                    "windSpeed": 1.25,
                    "windGust": 3.57,
                    "windBearing": 303,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 10.003,
                    "ozone": 336.5
                }, {
                    "time": 1569330000,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 14.32,
                    "WeatherarentTemperature": 14.32,
                    "dewPoint": 8.27,
                    "humidity": 0.67,
                    "pressure": 1027.21,
                    "windSpeed": 1.52,
                    "windGust": 4.2,
                    "windBearing": 318,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 11.471,
                    "ozone": 337.3
                }, {
                    "time": 1569333600,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0051,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 12.2,
                    "WeatherarentTemperature": 12.2,
                    "dewPoint": 8.48,
                    "humidity": 0.78,
                    "pressure": 1027.3,
                    "windSpeed": 2.33,
                    "windGust": 5.15,
                    "windBearing": 261,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 338
                }, {
                    "time": 1569337200,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0094,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 10.45,
                    "WeatherarentTemperature": 10.45,
                    "dewPoint": 8.68,
                    "humidity": 0.89,
                    "pressure": 1027.14,
                    "windSpeed": 2.9,
                    "windGust": 5.76,
                    "windBearing": 250,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 338.3
                }, {
                    "time": 1569340800,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0105,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 9.53,
                    "WeatherarentTemperature": 7.96,
                    "dewPoint": 8.44,
                    "humidity": 0.93,
                    "pressure": 1027.06,
                    "windSpeed": 2.99,
                    "windGust": 5.63,
                    "windBearing": 256,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 338.2
                }, {
                    "time": 1569344400,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0072,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 8.84,
                    "WeatherarentTemperature": 7.12,
                    "dewPoint": 8.25,
                    "humidity": 0.96,
                    "pressure": 1026.85,
                    "windSpeed": 3,
                    "windGust": 5.16,
                    "windBearing": 256,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 337.6
                }, {
                    "time": 1569348000,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0051,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 8.39,
                    "WeatherarentTemperature": 6.56,
                    "dewPoint": 8.13,
                    "humidity": 0.98,
                    "pressure": 1027.05,
                    "windSpeed": 3.03,
                    "windGust": 4.83,
                    "windBearing": 255,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 337.2
                }, {
                    "time": 1569351600,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 8.27,
                    "WeatherarentTemperature": 6.35,
                    "dewPoint": 7.9,
                    "humidity": 0.98,
                    "pressure": 1027.17,
                    "windSpeed": 3.14,
                    "windGust": 4.91,
                    "windBearing": 257,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 337.2
                }, {
                    "time": 1569355200,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 8.56,
                    "WeatherarentTemperature": 6.61,
                    "dewPoint": 7.67,
                    "humidity": 0.94,
                    "pressure": 1027,
                    "windSpeed": 3.28,
                    "windGust": 5.13,
                    "windBearing": 253,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 337.4
                }, {
                    "time": 1569358800,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 9.47,
                    "WeatherarentTemperature": 7.69,
                    "dewPoint": 7.77,
                    "humidity": 0.89,
                    "pressure": 1027.62,
                    "windSpeed": 3.32,
                    "windGust": 5.15,
                    "windBearing": 250,
                    "cloudCover": 0,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 337.2
                }, {
                    "time": 1569362400,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 11.67,
                    "WeatherarentTemperature": 11.67,
                    "dewPoint": 8.49,
                    "humidity": 0.81,
                    "pressure": 1028.29,
                    "windSpeed": 3.13,
                    "windGust": 4.73,
                    "windBearing": 238,
                    "cloudCover": 0,
                    "uvIndex": 2,
                    "visibility": 16.093,
                    "ozone": 336.7
                }, {
                    "time": 1569366000,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0.0075,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 14.65,
                    "WeatherarentTemperature": 14.65,
                    "dewPoint": 9.43,
                    "humidity": 0.71,
                    "pressure": 1028.58,
                    "windSpeed": 2.84,
                    "windGust": 4.12,
                    "windBearing": 210,
                    "cloudCover": 0.01,
                    "uvIndex": 3,
                    "visibility": 16.093,
                    "ozone": 335.7
                }, {
                    "time": 1569369600,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0.0145,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 16.76,
                    "WeatherarentTemperature": 16.76,
                    "dewPoint": 10.27,
                    "humidity": 0.66,
                    "pressure": 1028.43,
                    "windSpeed": 2.77,
                    "windGust": 3.81,
                    "windBearing": 193,
                    "cloudCover": 0.02,
                    "uvIndex": 5,
                    "visibility": 16.093,
                    "ozone": 334.6
                }, {
                    "time": 1569373200,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0.017,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 17.57,
                    "WeatherarentTemperature": 17.57,
                    "dewPoint": 10.93,
                    "humidity": 0.65,
                    "pressure": 1027.91,
                    "windSpeed": 3.12,
                    "windGust": 4.06,
                    "windBearing": 176,
                    "cloudCover": 0.06,
                    "uvIndex": 6,
                    "visibility": 16.093,
                    "ozone": 333.2
                }, {
                    "time": 1569376800,
                    "summary": "Clear",
                    "icon": "clear-day",
                    "precipIntensity": 0.0208,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 18.65,
                    "WeatherarentTemperature": 18.65,
                    "dewPoint": 11.42,
                    "humidity": 0.63,
                    "pressure": 1027.15,
                    "windSpeed": 3.7,
                    "windGust": 4.61,
                    "windBearing": 158,
                    "cloudCover": 0.11,
                    "uvIndex": 7,
                    "visibility": 16.093,
                    "ozone": 331.6
                }, {
                    "time": 1569380400,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0257,
                    "precipProbability": 0.03,
                    "precipType": "rain",
                    "temperature": 18.75,
                    "WeatherarentTemperature": 18.75,
                    "dewPoint": 11.66,
                    "humidity": 0.63,
                    "pressure": 1026.57,
                    "windSpeed": 4.23,
                    "windGust": 5.1,
                    "windBearing": 146,
                    "cloudCover": 0.17,
                    "uvIndex": 6,
                    "visibility": 16.093,
                    "ozone": 330.1
                }, {
                    "time": 1569384000,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0322,
                    "precipProbability": 0.03,
                    "precipType": "rain",
                    "temperature": 18.45,
                    "WeatherarentTemperature": 18.45,
                    "dewPoint": 11.84,
                    "humidity": 0.65,
                    "pressure": 1026.29,
                    "windSpeed": 4.74,
                    "windGust": 5.44,
                    "windBearing": 141,
                    "cloudCover": 0.22,
                    "uvIndex": 4,
                    "visibility": 16.093,
                    "ozone": 328.9
                }, {
                    "time": 1569387600,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0475,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 17.82,
                    "WeatherarentTemperature": 17.82,
                    "dewPoint": 11.92,
                    "humidity": 0.68,
                    "pressure": 1026.27,
                    "windSpeed": 5.2,
                    "windGust": 5.74,
                    "windBearing": 139,
                    "cloudCover": 0.28,
                    "uvIndex": 3,
                    "visibility": 16.093,
                    "ozone": 327.8
                }, {
                    "time": 1569391200,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0569,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 16.86,
                    "WeatherarentTemperature": 16.86,
                    "dewPoint": 12.14,
                    "humidity": 0.74,
                    "pressure": 1026.35,
                    "windSpeed": 5.29,
                    "windGust": 5.9,
                    "windBearing": 137,
                    "cloudCover": 0.29,
                    "uvIndex": 1,
                    "visibility": 16.093,
                    "ozone": 326.8
                }, {
                    "time": 1569394800,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0362,
                    "precipProbability": 0.03,
                    "precipType": "rain",
                    "temperature": 15.99,
                    "WeatherarentTemperature": 15.99,
                    "dewPoint": 12.4,
                    "humidity": 0.79,
                    "pressure": 1026.75,
                    "windSpeed": 4.73,
                    "windGust": 5.52,
                    "windBearing": 133,
                    "cloudCover": 0.22,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 325.8
                }, {
                    "time": 1569398400,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0131,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 14.98,
                    "WeatherarentTemperature": 14.98,
                    "dewPoint": 12.52,
                    "humidity": 0.85,
                    "pressure": 1027.29,
                    "windSpeed": 3.82,
                    "windGust": 4.95,
                    "windBearing": 127,
                    "cloudCover": 0.12,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 324.8
                }, {
                    "time": 1569402000,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0062,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 14.17,
                    "WeatherarentTemperature": 14.17,
                    "dewPoint": 12.69,
                    "humidity": 0.91,
                    "pressure": 1027.89,
                    "windSpeed": 3.07,
                    "windGust": 4.53,
                    "windBearing": 122,
                    "cloudCover": 0.08,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 324.1
                }, {
                    "time": 1569405600,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 13.46,
                    "WeatherarentTemperature": 13.46,
                    "dewPoint": 12.91,
                    "humidity": 0.96,
                    "pressure": 1028.22,
                    "windSpeed": 2.64,
                    "windGust": 4.32,
                    "windBearing": 120,
                    "cloudCover": 0.15,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 323.6
                }, {
                    "time": 1569409200,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0.0062,
                    "precipProbability": 0.03,
                    "precipType": "rain",
                    "temperature": 13.04,
                    "WeatherarentTemperature": 13.04,
                    "dewPoint": 13.04,
                    "humidity": 1,
                    "pressure": 1028.7,
                    "windSpeed": 2.36,
                    "windGust": 4.21,
                    "windBearing": 119,
                    "cloudCover": 0.28,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 323.4
                }, {
                    "time": 1569412800,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0.0139,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 12.82,
                    "WeatherarentTemperature": 12.82,
                    "dewPoint": 12.82,
                    "humidity": 1,
                    "pressure": 1028.77,
                    "windSpeed": 2.17,
                    "windGust": 4.19,
                    "windBearing": 121,
                    "cloudCover": 0.44,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 323.6
                }, {
                    "time": 1569416400,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0.0176,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 12.57,
                    "WeatherarentTemperature": 12.57,
                    "dewPoint": 12.57,
                    "humidity": 1,
                    "pressure": 1028.63,
                    "windSpeed": 2.08,
                    "windGust": 4.31,
                    "windBearing": 123,
                    "cloudCover": 0.63,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 324.7
                }, {
                    "time": 1569420000,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0.021,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 12.29,
                    "WeatherarentTemperature": 12.29,
                    "dewPoint": 12.29,
                    "humidity": 1,
                    "pressure": 1028.33,
                    "windSpeed": 2.08,
                    "windGust": 4.52,
                    "windBearing": 127,
                    "cloudCover": 0.84,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 326.3
                }, {
                    "time": 1569423600,
                    "summary": "Overcast",
                    "icon": "cloudy",
                    "precipIntensity": 0.0251,
                    "precipProbability": 0.03,
                    "precipType": "rain",
                    "temperature": 11.99,
                    "WeatherarentTemperature": 11.99,
                    "dewPoint": 11.99,
                    "humidity": 1,
                    "pressure": 1028.03,
                    "windSpeed": 2.06,
                    "windGust": 4.57,
                    "windBearing": 131,
                    "cloudCover": 0.99,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 327.5
                }, {
                    "time": 1569427200,
                    "summary": "Overcast",
                    "icon": "cloudy",
                    "precipIntensity": 0.0289,
                    "precipProbability": 0.05,
                    "precipType": "rain",
                    "temperature": 11.66,
                    "WeatherarentTemperature": 11.66,
                    "dewPoint": 11.66,
                    "humidity": 1,
                    "pressure": 1027.78,
                    "windSpeed": 1.94,
                    "windGust": 4.3,
                    "windBearing": 142,
                    "cloudCover": 1,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 327.9
                }, {
                    "time": 1569430800,
                    "summary": "Overcast",
                    "icon": "cloudy",
                    "precipIntensity": 0.0375,
                    "precipProbability": 0.07,
                    "precipType": "rain",
                    "temperature": 11.27,
                    "WeatherarentTemperature": 11.27,
                    "dewPoint": 11.27,
                    "humidity": 1,
                    "pressure": 1027.51,
                    "windSpeed": 1.8,
                    "windGust": 3.86,
                    "windBearing": 162,
                    "cloudCover": 0.99,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 327.8
                }, {
                    "time": 1569434400,
                    "summary": "Overcast",
                    "icon": "cloudy",
                    "precipIntensity": 0.0453,
                    "precipProbability": 0.07,
                    "precipType": "rain",
                    "temperature": 11.09,
                    "WeatherarentTemperature": 11.09,
                    "dewPoint": 11.09,
                    "humidity": 1,
                    "pressure": 1027.39,
                    "windSpeed": 1.67,
                    "windGust": 3.48,
                    "windBearing": 186,
                    "cloudCover": 0.99,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 328
                }, {
                    "time": 1569438000,
                    "summary": "Overcast",
                    "icon": "cloudy",
                    "precipIntensity": 0.041,
                    "precipProbability": 0.06,
                    "precipType": "rain",
                    "temperature": 11.13,
                    "WeatherarentTemperature": 11.13,
                    "dewPoint": 11.13,
                    "humidity": 1,
                    "pressure": 1027.53,
                    "windSpeed": 1.57,
                    "windGust": 3.2,
                    "windBearing": 213,
                    "cloudCover": 0.92,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 328.4
                }, {
                    "time": 1569441600,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0345,
                    "precipProbability": 0.05,
                    "precipType": "rain",
                    "temperature": 11.55,
                    "WeatherarentTemperature": 11.55,
                    "dewPoint": 11.55,
                    "humidity": 1,
                    "pressure": 1027.87,
                    "windSpeed": 1.47,
                    "windGust": 2.97,
                    "windBearing": 223,
                    "cloudCover": 0.82,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 329
                }, {
                    "time": 1569445200,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.035,
                    "precipProbability": 0.05,
                    "precipType": "rain",
                    "temperature": 12.42,
                    "WeatherarentTemperature": 12.42,
                    "dewPoint": 12.42,
                    "humidity": 1,
                    "pressure": 1028.01,
                    "windSpeed": 1.42,
                    "windGust": 2.77,
                    "windBearing": 189,
                    "cloudCover": 0.73,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 329.7
                }, {
                    "time": 1569448800,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0463,
                    "precipProbability": 0.06,
                    "precipType": "rain",
                    "temperature": 14.21,
                    "WeatherarentTemperature": 14.21,
                    "dewPoint": 13.16,
                    "humidity": 0.93,
                    "pressure": 1027.86,
                    "windSpeed": 1.38,
                    "windGust": 2.56,
                    "windBearing": 160,
                    "cloudCover": 0.66,
                    "uvIndex": 2,
                    "visibility": 16.093,
                    "ozone": 330.6
                }, {
                    "time": 1569452400,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0652,
                    "precipProbability": 0.07,
                    "precipType": "rain",
                    "temperature": 16.17,
                    "WeatherarentTemperature": 16.17,
                    "dewPoint": 13.36,
                    "humidity": 0.83,
                    "pressure": 1027.53,
                    "windSpeed": 1.41,
                    "windGust": 2.38,
                    "windBearing": 140,
                    "cloudCover": 0.59,
                    "uvIndex": 3,
                    "visibility": 16.093,
                    "ozone": 331.7
                }, {
                    "time": 1569456000,
                    "summary": "Mostly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0754,
                    "precipProbability": 0.08,
                    "precipType": "rain",
                    "temperature": 17.64,
                    "WeatherarentTemperature": 17.64,
                    "dewPoint": 13.47,
                    "humidity": 0.77,
                    "pressure": 1027.02,
                    "windSpeed": 1.61,
                    "windGust": 2.35,
                    "windBearing": 130,
                    "cloudCover": 0.52,
                    "uvIndex": 4,
                    "visibility": 16.093,
                    "ozone": 332.5
                }, {
                    "time": 1569459600,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0631,
                    "precipProbability": 0.07,
                    "precipType": "rain",
                    "temperature": 18.53,
                    "WeatherarentTemperature": 18.53,
                    "dewPoint": 13.51,
                    "humidity": 0.73,
                    "pressure": 1026.25,
                    "windSpeed": 2.06,
                    "windGust": 2.51,
                    "windBearing": 122,
                    "cloudCover": 0.48,
                    "uvIndex": 5,
                    "visibility": 16.093,
                    "ozone": 332.5
                }, {
                    "time": 1569463200,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0431,
                    "precipProbability": 0.05,
                    "precipType": "rain",
                    "temperature": 19.12,
                    "WeatherarentTemperature": 19.12,
                    "dewPoint": 13.45,
                    "humidity": 0.7,
                    "pressure": 1025.3,
                    "windSpeed": 2.67,
                    "windGust": 2.91,
                    "windBearing": 110,
                    "cloudCover": 0.45,
                    "uvIndex": 6,
                    "visibility": 16.093,
                    "ozone": 332.3
                }, {
                    "time": 1569466800,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0291,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 19.33,
                    "WeatherarentTemperature": 19.33,
                    "dewPoint": 13.27,
                    "humidity": 0.68,
                    "pressure": 1024.36,
                    "windSpeed": 3.23,
                    "windGust": 3.46,
                    "windBearing": 103,
                    "cloudCover": 0.42,
                    "uvIndex": 5,
                    "visibility": 16.093,
                    "ozone": 332.2
                }, {
                    "time": 1569470400,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0202,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 19.24,
                    "WeatherarentTemperature": 19.24,
                    "dewPoint": 13.14,
                    "humidity": 0.68,
                    "pressure": 1023.65,
                    "windSpeed": 3.76,
                    "windGust": 4.04,
                    "windBearing": 97,
                    "cloudCover": 0.37,
                    "uvIndex": 4,
                    "visibility": 16.093,
                    "ozone": 332.6
                }, {
                    "time": 1569474000,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0182,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 18.93,
                    "WeatherarentTemperature": 18.93,
                    "dewPoint": 13.14,
                    "humidity": 0.69,
                    "pressure": 1023.06,
                    "windSpeed": 4.25,
                    "windGust": 4.86,
                    "windBearing": 94,
                    "cloudCover": 0.33,
                    "uvIndex": 2,
                    "visibility": 16.093,
                    "ozone": 333.1
                }, {
                    "time": 1569477600,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0183,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 18.28,
                    "WeatherarentTemperature": 18.28,
                    "dewPoint": 13.36,
                    "humidity": 0.73,
                    "pressure": 1022.78,
                    "windSpeed": 4.49,
                    "windGust": 5.5,
                    "windBearing": 91,
                    "cloudCover": 0.27,
                    "uvIndex": 1,
                    "visibility": 16.093,
                    "ozone": 333.4
                }, {
                    "time": 1569481200,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-day",
                    "precipIntensity": 0.0125,
                    "precipProbability": 0.02,
                    "precipType": "rain",
                    "temperature": 17.4,
                    "WeatherarentTemperature": 17.4,
                    "dewPoint": 13.73,
                    "humidity": 0.79,
                    "pressure": 1022.96,
                    "windSpeed": 4.37,
                    "windGust": 5.93,
                    "windBearing": 87,
                    "cloudCover": 0.17,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 333
                }, {
                    "time": 1569484800,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.006,
                    "precipProbability": 0.01,
                    "precipType": "rain",
                    "temperature": 16.38,
                    "WeatherarentTemperature": 16.38,
                    "dewPoint": 14.12,
                    "humidity": 0.86,
                    "pressure": 1023.49,
                    "windSpeed": 4.01,
                    "windGust": 6.14,
                    "windBearing": 82,
                    "cloudCover": 0.07,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 332.3
                }, {
                    "time": 1569488400,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0,
                    "precipProbability": 0,
                    "temperature": 15.48,
                    "WeatherarentTemperature": 15.52,
                    "dewPoint": 14.42,
                    "humidity": 0.93,
                    "pressure": 1024,
                    "windSpeed": 3.58,
                    "windGust": 5.8,
                    "windBearing": 73,
                    "cloudCover": 0.02,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 332
                }, {
                    "time": 1569492000,
                    "summary": "Clear",
                    "icon": "clear-night",
                    "precipIntensity": 0.0113,
                    "precipProbability": 0.03,
                    "precipType": "rain",
                    "temperature": 14.78,
                    "WeatherarentTemperature": 14.93,
                    "dewPoint": 14.78,
                    "humidity": 1,
                    "pressure": 1024.07,
                    "windSpeed": 3.06,
                    "windGust": 4.36,
                    "windBearing": 56,
                    "cloudCover": 0.05,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 332.3
                }, {
                    "time": 1569495600,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0.0262,
                    "precipProbability": 0.04,
                    "precipType": "rain",
                    "temperature": 14.26,
                    "WeatherarentTemperature": 14.35,
                    "dewPoint": 14.26,
                    "humidity": 1,
                    "pressure": 1024.14,
                    "windSpeed": 2.5,
                    "windGust": 2.67,
                    "windBearing": 35,
                    "cloudCover": 0.13,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 333
                }, {
                    "time": 1569499200,
                    "summary": "Partly Cloudy",
                    "icon": "partly-cloudy-night",
                    "precipIntensity": 0.0373,
                    "precipProbability": 0.06,
                    "precipType": "rain",
                    "temperature": 13.92,
                    "WeatherarentTemperature": 13.98,
                    "dewPoint": 13.92,
                    "humidity": 1,
                    "pressure": 1024.17,
                    "windSpeed": 2.09,
                    "windGust": 2.14,
                    "windBearing": 18,
                    "cloudCover": 0.22,
                    "uvIndex": 0,
                    "visibility": 16.093,
                    "ozone": 334.2
                }]
            },
            "daily": {
                "summary": "Possible drizzle on Monday, with high temperatures peaking at 24Â°C on Friday.",
                "icon": "rain",
                "data": [{
                    "time": 1569247200,
                    "summary": "Partly cloudy throughout the day.",
                    "icon": "clear-day",
                    "sunriseTime": 1569267833,
                    "sunsetTime": 1569311611,
                    "moonPhase": 0.83,
                    "precipIntensity": 0.0031,
                    "precipIntensityMax": 0.0105,
                    "precipIntensityMaxTime": 1569254400,
                    "precipProbability": 0.06,
                    "precipType": "rain",
                    "temperatureHigh": 19.93,
                    "temperatureHighTime": 1569290400,
                    "temperatureLow": 8.27,
                    "temperatureLowTime": 1569351600,
                    "WeatherarentTemperatureHigh": 19.93,
                    "WeatherarentTemperatureHighTime": 1569290400,
                    "WeatherarentTemperatureLow": 6.35,
                    "WeatherarentTemperatureLowTime": 1569351600,
                    "dewPoint": 5.12,
                    "humidity": 0.53,
                    "pressure": 1026.23,
                    "windSpeed": 3.88,
                    "windGust": 7.39,
                    "windGustTime": 1569301200,
                    "windBearing": 319,
                    "cloudCover": 0.06,
                    "uvIndex": 7,
                    "uvIndexTime": 1569290400,
                    "visibility": 10.305,
                    "ozone": 327.1,
                    "temperatureMin": 9.7,
                    "temperatureMinTime": 1569268800,
                    "temperatureMax": 19.93,
                    "temperatureMaxTime": 1569290400,
                    "WeatherarentTemperatureMin": 7.49,
                    "WeatherarentTemperatureMinTime": 1569261600,
                    "WeatherarentTemperatureMax": 19.93,
                    "WeatherarentTemperatureMaxTime": 1569290400
                }, {
                    "time": 1569333600,
                    "summary": "Partly cloudy throughout the day.",
                    "icon": "clear-day",
                    "sunriseTime": 1569354149,
                    "sunsetTime": 1569398052,
                    "moonPhase": 0.87,
                    "precipIntensity": 0.0152,
                    "precipIntensityMax": 0.0569,
                    "precipIntensityMaxTime": 1569391200,
                    "precipProbability": 0.09,
                    "precipType": "rain",
                    "temperatureHigh": 18.75,
                    "temperatureHighTime": 1569380400,
                    "temperatureLow": 11.09,
                    "temperatureLowTime": 1569434400,
                    "WeatherarentTemperatureHigh": 18.75,
                    "WeatherarentTemperatureHighTime": 1569380400,
                    "WeatherarentTemperatureLow": 11.09,
                    "WeatherarentTemperatureLowTime": 1569434400,
                    "dewPoint": 10.59,
                    "humidity": 0.84,
                    "pressure": 1027.51,
                    "windSpeed": 3.28,
                    "windGust": 5.9,
                    "windGustTime": 1569391200,
                    "windBearing": 173,
                    "cloudCover": 0.16,
                    "uvIndex": 7,
                    "uvIndexTime": 1569376800,
                    "visibility": 16.093,
                    "ozone": 331.3,
                    "temperatureMin": 8.27,
                    "temperatureMinTime": 1569351600,
                    "temperatureMax": 18.75,
                    "temperatureMaxTime": 1569380400,
                    "WeatherarentTemperatureMin": 6.35,
                    "WeatherarentTemperatureMinTime": 1569351600,
                    "WeatherarentTemperatureMax": 18.75,
                    "WeatherarentTemperatureMaxTime": 1569380400
                }, {
                    "time": 1569420000,
                    "summary": "Partly cloudy throughout the day.",
                    "icon": "partly-cloudy-day",
                    "sunriseTime": 1569440464,
                    "sunsetTime": 1569484493,
                    "moonPhase": 0.91,
                    "precipIntensity": 0.0317,
                    "precipIntensityMax": 0.0754,
                    "precipIntensityMaxTime": 1569456000,
                    "precipProbability": 0.2,
                    "precipType": "rain",
                    "temperatureHigh": 19.33,
                    "temperatureHighTime": 1569466800,
                    "temperatureLow": 11.27,
                    "temperatureLowTime": 1569520800,
                    "WeatherarentTemperatureHigh": 19.33,
                    "WeatherarentTemperatureHighTime": 1569466800,
                    "WeatherarentTemperatureLow": 11.27,
                    "WeatherarentTemperatureLowTime": 1569520800,
                    "dewPoint": 13.02,
                    "humidity": 0.89,
                    "pressure": 1025.63,
                    "windSpeed": 2.5,
                    "windGust": 6.14,
                    "windGustTime": 1569484800,
                    "windBearing": 97,
                    "cloudCover": 0.52,
                    "uvIndex": 6,
                    "uvIndexTime": 1569463200,
                    "visibility": 16.093,
                    "ozone": 331.5,
                    "temperatureMin": 11.09,
                    "temperatureMinTime": 1569434400,
                    "temperatureMax": 19.33,
                    "temperatureMaxTime": 1569466800,
                    "WeatherarentTemperatureMin": 11.09,
                    "WeatherarentTemperatureMinTime": 1569434400,
                    "WeatherarentTemperatureMax": 19.33,
                    "WeatherarentTemperatureMaxTime": 1569466800
                }, {
                    "time": 1569506400,
                    "summary": "Partly cloudy throughout the day.",
                    "icon": "partly-cloudy-day",
                    "sunriseTime": 1569526780,
                    "sunsetTime": 1569570934,
                    "moonPhase": 0.95,
                    "precipIntensity": 0.005,
                    "precipIntensityMax": 0.0179,
                    "precipIntensityMaxTime": 1569506400,
                    "precipProbability": 0.1,
                    "precipType": "rain",
                    "temperatureHigh": 24.18,
                    "temperatureHighTime": 1569556800,
                    "temperatureLow": 11.59,
                    "temperatureLowTime": 1569607200,
                    "WeatherarentTemperatureHigh": 24.18,
                    "WeatherarentTemperatureHighTime": 1569556800,
                    "WeatherarentTemperatureLow": 11.59,
                    "WeatherarentTemperatureLowTime": 1569607200,
                    "dewPoint": 12.32,
                    "humidity": 0.77,
                    "pressure": 1019.54,
                    "windSpeed": 2.98,
                    "windGust": 10.09,
                    "windGustTime": 1569592800,
                    "windBearing": 317,
                    "cloudCover": 0.35,
                    "uvIndex": 7,
                    "uvIndexTime": 1569549600,
                    "visibility": 16.093,
                    "ozone": 340.4,
                    "temperatureMin": 11.27,
                    "temperatureMinTime": 1569520800,
                    "temperatureMax": 24.18,
                    "temperatureMaxTime": 1569556800,
                    "WeatherarentTemperatureMin": 11.27,
                    "WeatherarentTemperatureMinTime": 1569520800,
                    "WeatherarentTemperatureMax": 24.18,
                    "WeatherarentTemperatureMaxTime": 1569556800
                }, {
                    "time": 1569592800,
                    "summary": "Mostly cloudy throughout the day.",
                    "icon": "cloudy",
                    "sunriseTime": 1569613096,
                    "sunsetTime": 1569657376,
                    "moonPhase": 0.99,
                    "precipIntensity": 0.0194,
                    "precipIntensityMax": 0.1705,
                    "precipIntensityMaxTime": 1569639600,
                    "precipProbability": 0.13,
                    "precipType": "rain",
                    "temperatureHigh": 18.47,
                    "temperatureHighTime": 1569632400,
                    "temperatureLow": 9.14,
                    "temperatureLowTime": 1569693600,
                    "WeatherarentTemperatureHigh": 18.47,
                    "WeatherarentTemperatureHighTime": 1569632400,
                    "WeatherarentTemperatureLow": 7.71,
                    "WeatherarentTemperatureLowTime": 1569693600,
                    "dewPoint": 11.09,
                    "humidity": 0.83,
                    "pressure": 1018.36,
                    "windSpeed": 4.01,
                    "windGust": 11.76,
                    "windGustTime": 1569596400,
                    "windBearing": 189,
                    "cloudCover": 0.77,
                    "uvIndex": 4,
                    "uvIndexTime": 1569636000,
                    "visibility": 16.093,
                    "ozone": 345.1,
                    "temperatureMin": 10.52,
                    "temperatureMinTime": 1569679200,
                    "temperatureMax": 18.47,
                    "temperatureMaxTime": 1569632400,
                    "WeatherarentTemperatureMin": 10.52,
                    "WeatherarentTemperatureMinTime": 1569679200,
                    "WeatherarentTemperatureMax": 18.47,
                    "WeatherarentTemperatureMaxTime": 1569632400
                }, {
                    "time": 1569679200,
                    "summary": "Partly cloudy throughout the day.",
                    "icon": "partly-cloudy-day",
                    "sunriseTime": 1569699412,
                    "sunsetTime": 1569743818,
                    "moonPhase": 0.03,
                    "precipIntensity": 0.0029,
                    "precipIntensityMax": 0.0105,
                    "precipIntensityMaxTime": 1569765600,
                    "precipProbability": 0.06,
                    "precipType": "rain",
                    "temperatureHigh": 19.98,
                    "temperatureHighTime": 1569726000,
                    "temperatureLow": 10.39,
                    "temperatureLowTime": 1569776400,
                    "WeatherarentTemperatureHigh": 19.98,
                    "WeatherarentTemperatureHighTime": 1569726000,
                    "WeatherarentTemperatureLow": 10.39,
                    "WeatherarentTemperatureLowTime": 1569776400,
                    "dewPoint": 10.45,
                    "humidity": 0.83,
                    "pressure": 1021.11,
                    "windSpeed": 3.01,
                    "windGust": 8.49,
                    "windGustTime": 1569740400,
                    "windBearing": 180,
                    "cloudCover": 0.32,
                    "uvIndex": 7,
                    "uvIndexTime": 1569722400,
                    "visibility": 16.093,
                    "ozone": 346.6,
                    "temperatureMin": 9.14,
                    "temperatureMinTime": 1569693600,
                    "temperatureMax": 19.98,
                    "temperatureMaxTime": 1569726000,
                    "WeatherarentTemperatureMin": 7.71,
                    "WeatherarentTemperatureMinTime": 1569693600,
                    "WeatherarentTemperatureMax": 19.98,
                    "WeatherarentTemperatureMaxTime": 1569726000
                }, {
                    "time": 1569765600,
                    "summary": "Mostly cloudy throughout the day.",
                    "icon": "rain",
                    "sunriseTime": 1569785729,
                    "sunsetTime": 1569830260,
                    "moonPhase": 0.07,
                    "precipIntensity": 0.0498,
                    "precipIntensityMax": 0.1308,
                    "precipIntensityMaxTime": 1569790800,
                    "precipProbability": 0.32,
                    "precipType": "rain",
                    "temperatureHigh": 17.71,
                    "temperatureHighTime": 1569816000,
                    "temperatureLow": 11.52,
                    "temperatureLowTime": 1569870000,
                    "WeatherarentTemperatureHigh": 17.71,
                    "WeatherarentTemperatureHighTime": 1569816000,
                    "WeatherarentTemperatureLow": 11.52,
                    "WeatherarentTemperatureLowTime": 1569870000,
                    "dewPoint": 11.59,
                    "humidity": 0.89,
                    "pressure": 1026.14,
                    "windSpeed": 3.34,
                    "windGust": 6.14,
                    "windGustTime": 1569834000,
                    "windBearing": 164,
                    "cloudCover": 0.48,
                    "uvIndex": 5,
                    "uvIndexTime": 1569808800,
                    "visibility": 16.093,
                    "ozone": 342,
                    "temperatureMin": 10.39,
                    "temperatureMinTime": 1569776400,
                    "temperatureMax": 17.71,
                    "temperatureMaxTime": 1569816000,
                    "WeatherarentTemperatureMin": 10.39,
                    "WeatherarentTemperatureMinTime": 1569776400,
                    "WeatherarentTemperatureMax": 17.71,
                    "WeatherarentTemperatureMaxTime": 1569816000
                }, {
                    "time": 1569852000,
                    "summary": "Mostly cloudy throughout the day.",
                    "icon": "partly-cloudy-day",
                    "sunriseTime": 1569872045,
                    "sunsetTime": 1569916703,
                    "moonPhase": 0.1,
                    "precipIntensity": 0.012,
                    "precipIntensityMax": 0.0449,
                    "precipIntensityMaxTime": 1569855600,
                    "precipProbability": 0.13,
                    "precipType": "rain",
                    "temperatureHigh": 18.75,
                    "temperatureHighTime": 1569906000,
                    "temperatureLow": 12.21,
                    "temperatureLowTime": 1569952800,
                    "WeatherarentTemperatureHigh": 18.75,
                    "WeatherarentTemperatureHighTime": 1569906000,
                    "WeatherarentTemperatureLow": 12.21,
                    "WeatherarentTemperatureLowTime": 1569952800,
                    "dewPoint": 12.57,
                    "humidity": 0.86,
                    "pressure": 1027.29,
                    "windSpeed": 3.35,
                    "windGust": 11.77,
                    "windGustTime": 1569920400,
                    "windBearing": 35,
                    "cloudCover": 0.35,
                    "uvIndex": 7,
                    "uvIndexTime": 1569895200,
                    "visibility": 16.093,
                    "ozone": 318.8,
                    "temperatureMin": 11.52,
                    "temperatureMinTime": 1569870000,
                    "temperatureMax": 18.75,
                    "temperatureMaxTime": 1569906000,
                    "WeatherarentTemperatureMin": 11.52,
                    "WeatherarentTemperatureMinTime": 1569870000,
                    "WeatherarentTemperatureMax": 18.75,
                    "WeatherarentTemperatureMaxTime": 1569906000
                }]
            },
            "flags": {"sources": ["cmc", "gfs", "icon", "isd", "madis"], "nearest-station": 1.057, "units": "si"},
            "offset": 10
        };
        data.daily.data = data.daily.data.splice(0, 5);
        this.setState({data: data, isLoaded: true, error: false});
    }

    render() {

        // DarkSkyApi.apiKey = '149866425056f58cba752a06a3ad025e';
        // DarkSkyApi.proxy = 'http://localhost:3000';
        //
        // DarkSkyApi.loadCurrent()
        //     .then(result => console.log('fxxk'));
        //
        if(!this.state.isLoaded){
            return null;
        }

        let data = this.state.data;

        const showCard = this.state.error ? <p className="error">ERROR NOT CITY</p> :
            <Cards data={data} temp={this.state.temp} isLoaded={this.state.isLoaded}/>;
        return (
            <div className="Weather">
                <Header searchPressCallback={this.handleSearchPress}/>
                {showCard}
                <BackGround/>
            </div>
        );

    }
}

const mapStateToProps = state => {
    return {
        isAuthenticated: state.auth.token !== null
    };
};

export default connect(mapStateToProps)(Weather);
